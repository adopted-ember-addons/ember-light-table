<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>addon/classes/Table.js - Ember Light Table</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="stylesheet" href="../assets/css/custom.css">
    <link rel="stylesheet" href="../assets/vendor/bootstrap/css/bootstrap.css">
    <link rel="stylesheet" href="../assets/css/theme.css">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700' rel='stylesheet' type='text/css'>
</head>
<body>
    <div class="row">
        <div class="sidebar-container">
            <div id="sidebar">
              <div class="header">
                <h1 class="brand" style="padding: 10px 16px 10px; height: 20px; line-height: 20px; margin-left: 0;">
                  <a href="../">Ember Light Table</a>
                </h1>
                <form class="navbar-form">
                    <input type="search" class="search-query" placeholder="Search classes/modules...">
                </form>
              </div>
              <ul class="main-nav">
                <li class="section">Modules</li>
                   <li  >
                     <a href="../modules/Classes.html">Classes</a>
                   </li>
                   <li  >
                     <a href="../modules/Components.html">Components</a>
                   </li>
                   <li  >
                     <a href="../modules/Home.html">Home</a>
                   </li>
            
                <li class="section">Classes</li>
                    <li ><a  href="../classes/Body.html">Body</a></li>
                    <li ><a  href="../classes/Column.html">Column</a></li>
                    <li ><a  href="../classes/Foot.html">Foot</a></li>
                    <li ><a  href="../classes/Head.html">Head</a></li>
                    <li ><a  href="../classes/Light Table.html">Light Table</a></li>
                    <li ><a  href="../classes/Row.html">Row</a></li>
                    <li ><a  href="../classes/Table.html">Table</a></li>
                    <li ><a  href="../classes/TableColumnMixin.html">TableColumnMixin</a></li>
                    <li ><a  href="../classes/TableScrollMixin.html">TableScrollMixin</a></li>
              </ul>
            
              <div class="footer">
                <a href="https://github.com/offirgolan/ember-light-table" class="github">GitHub</a>
                <p class="version pull-right">0.0.0.f4130461</p>
              </div>
            </div>
        </div>
        <div class="content-container">
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <form id="options-form" class="form-inline pull-right">
                            Show:
                            <label for="api-show-inherited" class="checkbox">
                                <input type="checkbox" id="api-show-inherited" checked>
                                Inherited
                            </label>
                    
                            <label for="api-show-protected" class="checkbox">
                                <input type="checkbox" id="api-show-protected">
                                Protected
                            </label>
                    
                            <label for="api-show-private" class="checkbox">
                                <input type="checkbox" id="api-show-private">
                                Private
                            </label>
                            <label for="api-show-deprecated" class="checkbox">
                                <input type="checkbox" id="api-show-deprecated">
                                Deprecated
                            </label>
                    
                        </form>
                    
<div class="page-header">
    <h1>addon/classes/Table.js <small>File</small></h1>
</div>

<div class="file">
    <pre class="prettyprint linenums">
import Ember from &#x27;ember&#x27;;
import Row from &#x27;./Row&#x27;;
import Column from &#x27;./Column&#x27;;

const {
  computed,
  makeArray,
  isNone,
  isEmpty,
  A: emberArray
} = Ember;

/**
 * @module Classes
 */

 /**
  * @class Table
  * @extends Ember.Object
  */
export default class Table extends Ember.Object.extend({
  /**
   * @property columns
   * @type {Ember.Array}
   * @default []
   */
  columns: null,

  /**
   * @property rows
   * @type {Ember.Array}
   * @default []
   */
  rows: null,

  /**
   * @property isEmpty
   * @type {Boolean}
   */
  isEmpty: computed.empty(&#x27;rows&#x27;).readOnly(),

  /**
   * @property expandedRows
   * @type {Ember.Array}
   */
  expandedRows: computed.filterBy(&#x27;rows&#x27;, &#x27;expanded&#x27;, true).readOnly(),

  /**
   * @property selectedRows
   * @type {Ember.Array}
   */
  selectedRows: computed.filterBy(&#x27;rows&#x27;, &#x27;selected&#x27;, true).readOnly(),

  /**
   * @property sortedColumns
   * @type {Ember.Array}
   */
  sortedColumns: computed.filterBy(&#x27;visibleColumns&#x27;, &#x27;sorted&#x27;, true).readOnly(),

  /**
   * @property sortableColumns
   * @type {Ember.Array}
   */
  sortableColumns: computed.filterBy(&#x27;visibleColumns&#x27;, &#x27;sortable&#x27;, true).readOnly(),

  /**
   * @property visibleColumns
   * @type {Ember.Array}
   */
  visibleColumns: computed.filterBy(&#x27;flattenedColumns&#x27;, &#x27;hidden&#x27;, false).readOnly(),

  /**
   * @property visibleColumnGroups
   * @type {Ember.Array}
   */
  visibleColumnGroups: computed(&#x27;columns.@each.{hidden,isVisibleGroupColumn}&#x27;, function() {
    return emberArray(this.get(&#x27;columns&#x27;).reduce((arr, c) =&gt; {
      if (c.get(&#x27;isVisibleGroupColumn&#x27;) || (!c.get(&#x27;isGroupColumn&#x27;) &amp;&amp; !c.get(&#x27;hidden&#x27;))) {
        arr.push(c);
      }
      return arr;
    }, []));
  }).readOnly(),

  /**
   * @property visibleSubColumns
   * @type {Ember.Array}
   */
  visibleSubColumns: computed(&#x27;columns.@each.visibleSubColumns&#x27;, function() {
    return emberArray([].concat(...this.get(&#x27;columns&#x27;).getEach(&#x27;visibleSubColumns&#x27;)));
  }).readOnly(),

  /**
   * @property flattenedColumns
   * @type {Ember.Array}
   */
  flattenedColumns: computed(&#x27;columns.[]&#x27;, &#x27;columns.@each.subColumns&#x27;, function() {
    return emberArray(this.get(&#x27;columns&#x27;).reduce((arr, c) =&gt; {
      let subColumns = c.get(&#x27;subColumns&#x27;);
      if (isEmpty(subColumns)) {
        arr.push(c);
      } else {
        subColumns.forEach(sc =&gt; arr.push(sc));
      }
      return arr;
    }, []));
  }).readOnly()
}) {
  /**
   * @class Table
   * @constructor
   * @param  {Array} columns
   * @param  {Array} rows
   */
  constructor(columns = [], rows = []) {
    super();
    this.setProperties({
      rows: emberArray(Table.createRows(rows)),
      columns: emberArray(Table.createColumns(columns)),
    });
  }

  // Rows

  /**
   * Replace all the row&#x27;s content with content of the argument. If argument is an empty array receiver will be cleared.
   * @method setRows
   * @param  {Array} rows
   */
  setRows(rows = []) {
    this.rows.setObjects(Table.createRows(rows));
  }

  /**
   * Push the object onto the end of the row array if it is not already present.
   * @method addRow
   * @param  {Object} row
   */
  addRow(row) {
    if (row instanceof Row) {
      this.rows.addObject(row);
    } else if (isNone(this.rows.findBy(&#x27;content&#x27;, row))) {
      this.pushRow(row);
    }
  }

  /**
   * Push the objects onto the end of the row array if it is not already present.
   * @method addRows
   * @param  {Array} rows
   */
  addRows(rows = []) {
    rows.forEach(r =&gt; this.addRow(r));
  }

  /**
   * Push the object onto the end of the row array.
   * @method pushRow
   * @param  {Object} row
   */
  pushRow(row) {
    this.rows.pushObject(Table.createRow(row));
  }

  /**
   * Push the object onto the end of the row array.
   * @method pushRows
   * @param  {Array}  rows
   */
  pushRows(rows = []) {
    this.rows.pushObjects(Table.createRows(rows));
  }

  /**
   * Remove all occurrences of an object in the rows
   * @method removeRow
   * @param  {Object}  row
   */
  removeRow(row) {
    if (row instanceof Row) {
      this.rows.removeObject(row);
    } else {
      this.rows.removeObject(this.rows.findBy(&#x27;content&#x27;, row));
    }
  }

  /**
   * Removes each object in the passed enumerable from the rows.
   * @method removeRows
   * @param  {Array}    rows
   */
  removeRows(rows = []) {
    rows.forEach(r =&gt; this.removeRow(r));
  }

  // Columns

  /**
   * Replace all the column&#x27;s content with content of the argument. If argument is an empty array receiver will be cleared.
   * @method setColumns
   * @param  {Array} columns
   */
  setColumns(columns = []) {
    return this.columns.setObjects(Table.createColumns(columns));
  }

  /**
   * Push the object onto the end of the column array if it is not already present.
   * @method addColumn
   * @param  {Object} column
   */
  addColumn(column) {
    return this.columns.addObject(Table.createColumn(column));
  }

  /**
   * Push the objects onto the end of the column array if it is not already present.
   * @method addColumns
   * @param  {Array} columns
   */
  addColumns(columns = []) {
    return this.columns.addObjects(Table.createColumns(columns));
  }

  /**
   * Push the object onto the end of the column array.
   * @method pushColumn
   * @param  {Object} column
   */
  pushColumn(column) {
    return this.columns.pushObject(Table.createColumn(column));
  }

  /**
   * Push the object onto the end of the column array.
   * @method pushColumns
   * @param  {Array}  columns
   */
  pushColumns(columns = []) {
    return this.columns.pushObjects(Table.createColumns(columns));
  }

  /**
   * Remove all occurrences of an object in the columns
   * @method removeColumn
   * @param  {Object}  column
   */
  removeColumn(column) {
    return this.columns.removeObject(column);
  }

  /**
   * Removes each object in the passed enumerable from the columns.
   * @method removeColumns
   * @param  {Array}    columns
   */
  removeColumns(columns = []) {
    return this.columns.removeObjects(columns);
  }

  /**
   * Create a Row object with the given content
   * @method createRow
   * @static
   * @param  {Object}  content
   * @return {Row}
   */
  static createRow(content) {
    return new Row(content);
  }

  /**
   * Create a collection of Row objects with the given collection
   * @method createRows
   * @static
   * @param  {Array}  rows
   * @return {Array}
   */
  static createRows(rows = []) {
    return makeArray(rows).map(r =&gt; new Row(r));
  }

  /**
   * Create a Column object with the given options
   * @method createColumn
   * @static
   * @param  {Object}  column
   * @return {Column}
   */
  static createColumn(column) {
    return new Column(column);
  }

  /**
   * Create a collection of Column objects with the given collection
   * @method createColumns
   * @static
   * @param  {Array}  columns
   * @return {Array}
   */
  static createColumns(columns = []) {
    return makeArray(columns).map(c =&gt; new Column(c));
  }
}

    </pre>
</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="../assets/vendor/prettify/prettify-min.js"></script>
    <script>prettyPrint();</script>
    <script src="../assets/vendor/jquery/jquery-1.8.2.min.js"></script>
    <script src="../assets/vendor/bootstrap/js/bootstrap.js"></script>
    <script src="../assets/js/yuidoc-bootstrap.js"></script>
</body>
</html>
